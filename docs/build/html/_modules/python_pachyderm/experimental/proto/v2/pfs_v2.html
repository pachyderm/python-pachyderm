<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>python_pachyderm.experimental.proto.v2.pfs_v2 &mdash; python-pachyderm  documentation</title>
      <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../../index.html" class="icon icon-home"> python-pachyderm
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../modules.html">python_pachyderm</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">python-pachyderm</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../../index.html">Module code</a> &raquo;</li>
      <li>python_pachyderm.experimental.proto.v2.pfs_v2</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for python_pachyderm.experimental.proto.v2.pfs_v2</h1><div class="highlight"><pre>
<span></span><span class="c1"># Generated by the protocol buffer compiler.  DO NOT EDIT!</span>
<span class="c1"># sources: python_pachyderm/proto/v2/pfs/pfs.proto</span>
<span class="c1"># plugin: python-betterproto</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">AsyncIterable</span><span class="p">,</span> <span class="n">AsyncIterator</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span> <span class="nn">betterproto</span>
<span class="kn">from</span> <span class="nn">betterproto.grpc.grpclib_server</span> <span class="kn">import</span> <span class="n">ServiceBase</span>
<span class="kn">import</span> <span class="nn">grpclib</span>


<div class="viewcode-block" id="OriginKind"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.OriginKind">[docs]</a><span class="k">class</span> <span class="nc">OriginKind</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;These are the different places where a commit may be originated from&quot;&quot;&quot;</span>

    <span class="n">ORIGIN_KIND_UNKNOWN</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">USER</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">AUTO</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">FSCK</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">ALIAS</span> <span class="o">=</span> <span class="mi">4</span></div>


<div class="viewcode-block" id="FileType"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.FileType">[docs]</a><span class="k">class</span> <span class="nc">FileType</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">RESERVED</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">FILE</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">DIR</span> <span class="o">=</span> <span class="mi">2</span></div>


<div class="viewcode-block" id="CommitState"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CommitState">[docs]</a><span class="k">class</span> <span class="nc">CommitState</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    CommitState describes the states a commit can be in. The states are</span>
<span class="sd">    increasingly specific, i.e. a commit that is FINISHED also counts as</span>
<span class="sd">    STARTED.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">COMMIT_STATE_UNKNOWN</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">STARTED</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">READY</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">FINISHING</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">FINISHED</span> <span class="o">=</span> <span class="mi">4</span></div>


<div class="viewcode-block" id="Delimiter"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.Delimiter">[docs]</a><span class="k">class</span> <span class="nc">Delimiter</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">NONE</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">JSON</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">LINE</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">SQL</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">CSV</span> <span class="o">=</span> <span class="mi">4</span></div>


<div class="viewcode-block" id="SqlDatabaseEgressFileFormatType"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.SqlDatabaseEgressFileFormatType">[docs]</a><span class="k">class</span> <span class="nc">SqlDatabaseEgressFileFormatType</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">UNKNOWN</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">CSV</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">JSON</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">PARQUET</span> <span class="o">=</span> <span class="mi">3</span></div>


<div class="viewcode-block" id="Repo"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.Repo">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Repo</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="Branch"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.Branch">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Branch</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="File"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.File">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">File</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">datum</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="RepoInfo"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.RepoInfo">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RepoInfo</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;RepoInfo is the main data structure representing a Repo in etcd&quot;&quot;&quot;</span>

    <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">size_bytes_upper_bound</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">branches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Branch&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># Set by ListRepo and InspectRepo if Pachyderm&#39;s auth system is active, but</span>
    <span class="c1"># not stored in etcd. To set a user&#39;s auth scope for a repo, use the</span>
    <span class="c1"># Pachyderm Auth API (in src/client/auth/auth.proto)</span>
    <span class="n">auth_info</span><span class="p">:</span> <span class="s2">&quot;RepoAuthInfo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
    <span class="n">details</span><span class="p">:</span> <span class="s2">&quot;RepoInfoDetails&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span></div>


<div class="viewcode-block" id="RepoInfoDetails"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.RepoInfoDetails">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RepoInfoDetails</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Details are only provided when explicitly requested&quot;&quot;&quot;</span>

    <span class="n">size_bytes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="RepoAuthInfo"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.RepoAuthInfo">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RepoAuthInfo</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    RepoAuthInfo includes the caller&#39;s access scope for a repo, and is returned</span>
<span class="sd">    by ListRepo and InspectRepo but not persisted in etcd. It&#39;s used by the</span>
<span class="sd">    Pachyderm dashboard to render repo access appropriately. To set a user&#39;s</span>
<span class="sd">    auth scope for a repo, use the Pachyderm Auth API (in</span>
<span class="sd">    src/client/auth/auth.proto)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># The callers access level to the relevant repo. These are very granular</span>
    <span class="c1"># permissions - for the end user it makes sense to show them the roles they</span>
    <span class="c1"># have instead.</span>
    <span class="n">permissions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;_auth_v2__.Permission&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># The caller&#39;s roles on the relevant repo. This includes inherited roles from</span>
    <span class="c1"># the cluster, group membership, etc.</span>
    <span class="n">roles</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="BranchInfo"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.BranchInfo">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">BranchInfo</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">head</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">provenance</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Branch&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">subvenance</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Branch&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">direct_provenance</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Branch&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">trigger</span><span class="p">:</span> <span class="s2">&quot;Trigger&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span></div>


<div class="viewcode-block" id="Trigger"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.Trigger">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Trigger</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Trigger defines the conditions under which a head is moved, and to which</span>
<span class="sd">    branch it is moved.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Which branch this trigger refers to</span>
    <span class="n">branch</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># All indicates that all conditions must be satisfied before the trigger</span>
    <span class="c1"># happens, otherwise any conditions being satisfied will trigger it.</span>
    <span class="nb">all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># Triggers if the cron spec has been satisfied since the last trigger and</span>
    <span class="c1"># there&#39;s been a new commit.</span>
    <span class="n">cron_spec</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="c1"># Triggers if there&#39;s been `size` new data added since the last trigger.</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="c1"># Triggers if there&#39;s been `commits` new commits added since the last</span>
    <span class="c1"># trigger.</span>
    <span class="n">commits</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span></div>


<div class="viewcode-block" id="CommitOrigin"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CommitOrigin">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CommitOrigin</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">kind</span><span class="p">:</span> <span class="s2">&quot;OriginKind&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="Commit"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.Commit">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Commit</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Commit is a reference to a commit (e.g. the collection of branches and the</span>
<span class="sd">    collection of currently-open commits in etcd are collections of Commit</span>
<span class="sd">    protos)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="CommitInfo"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CommitInfo">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CommitInfo</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;CommitInfo is the main data structure representing a commit in etcd&quot;&quot;&quot;</span>

    <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">origin</span><span class="p">:</span> <span class="s2">&quot;CommitOrigin&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># description is a user-provided script describing this commit</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">parent_commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">child_commits</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Commit&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">started</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
    <span class="n">finishing</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
    <span class="n">finished</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">direct_provenance</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Branch&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">size_bytes_upper_bound</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
    <span class="n">details</span><span class="p">:</span> <span class="s2">&quot;CommitInfoDetails&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span></div>


<div class="viewcode-block" id="CommitInfoDetails"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CommitInfoDetails">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CommitInfoDetails</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Details are only provided when explicitly requested&quot;&quot;&quot;</span>

    <span class="n">size_bytes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">compacting_time</span><span class="p">:</span> <span class="n">timedelta</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">validating_time</span><span class="p">:</span> <span class="n">timedelta</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="CommitSet"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CommitSet">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CommitSet</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="CommitSetInfo"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CommitSetInfo">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CommitSetInfo</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit_set</span><span class="p">:</span> <span class="s2">&quot;CommitSet&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">commits</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;CommitInfo&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="FileInfo"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.FileInfo">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">FileInfo</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">file_type</span><span class="p">:</span> <span class="s2">&quot;FileType&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">committed</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">size_bytes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="nb">hash</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bytes_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span></div>


<div class="viewcode-block" id="CreateRepoRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CreateRepoRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CreateRepoRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="InspectRepoRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.InspectRepoRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">InspectRepoRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="ListRepoRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ListRepoRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ListRepoRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="c1"># type is the type of (system) repos that should be returned an empty string</span>
    <span class="c1"># requests all repos</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="DeleteRepoRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.DeleteRepoRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">DeleteRepoRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="StartCommitRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.StartCommitRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">StartCommitRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="c1"># parent may be empty in which case the commit that Branch points to will be</span>
    <span class="c1"># used as the parent. If the branch does not exist, the commit will have no</span>
    <span class="c1"># parent.</span>
    <span class="n">parent</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># description is a user-provided string describing this commit</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="FinishCommitRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.FinishCommitRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">FinishCommitRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># description is a user-provided string describing this commit. Setting this</span>
    <span class="c1"># will overwrite the description set in StartCommit</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span></div>


<div class="viewcode-block" id="InspectCommitRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.InspectCommitRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">InspectCommitRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># Wait causes inspect commit to wait until the commit is in the desired</span>
    <span class="c1"># state.</span>
    <span class="n">wait</span><span class="p">:</span> <span class="s2">&quot;CommitState&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="ListCommitRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ListCommitRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ListCommitRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">from_</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">to</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="nb">all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
    <span class="n">origin_kind</span><span class="p">:</span> <span class="s2">&quot;OriginKind&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span></div>


<div class="viewcode-block" id="InspectCommitSetRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.InspectCommitSetRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">InspectCommitSetRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit_set</span><span class="p">:</span> <span class="s2">&quot;CommitSet&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">wait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="ListCommitSetRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ListCommitSetRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ListCommitSetRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="SquashCommitSetRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.SquashCommitSetRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">SquashCommitSetRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit_set</span><span class="p">:</span> <span class="s2">&quot;CommitSet&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="DropCommitSetRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.DropCommitSetRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">DropCommitSetRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit_set</span><span class="p">:</span> <span class="s2">&quot;CommitSet&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="SubscribeCommitRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.SubscribeCommitRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">SubscribeCommitRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">branch</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="c1"># only commits created since this commit are returned</span>
    <span class="n">from_</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="c1"># Don&#39;t return commits until they&#39;re in (at least) the desired state.</span>
    <span class="n">state</span><span class="p">:</span> <span class="s2">&quot;CommitState&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="nb">all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">origin_kind</span><span class="p">:</span> <span class="s2">&quot;OriginKind&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span></div>


<div class="viewcode-block" id="ClearCommitRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ClearCommitRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ClearCommitRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="CreateBranchRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CreateBranchRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CreateBranchRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">head</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">provenance</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="s2">&quot;Branch&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">trigger</span><span class="p">:</span> <span class="s2">&quot;Trigger&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">new_commit_set</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span></div>


<div class="viewcode-block" id="InspectBranchRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.InspectBranchRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">InspectBranchRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="ListBranchRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ListBranchRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ListBranchRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="DeleteBranchRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.DeleteBranchRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">DeleteBranchRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="AddFile"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.AddFile">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">AddFile</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">datum</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">raw</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span>
        <span class="mi">3</span><span class="p">,</span> <span class="n">wraps</span><span class="o">=</span><span class="n">betterproto</span><span class="o">.</span><span class="n">TYPE_BYTES</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;source&quot;</span>
    <span class="p">)</span>
    <span class="n">url</span><span class="p">:</span> <span class="s2">&quot;AddFileUrlSource&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;source&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="AddFileUrlSource"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.AddFileUrlSource">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">AddFileUrlSource</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">recursive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="DeleteFile"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.DeleteFile">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">DeleteFile</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">datum</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="CopyFile"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CopyFile">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CopyFile</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">dst</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">datum</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">src</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">append</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span></div>


<div class="viewcode-block" id="ModifyFileRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ModifyFileRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ModifyFileRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">set_commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;body&quot;</span><span class="p">)</span>
    <span class="n">add_file</span><span class="p">:</span> <span class="s2">&quot;AddFile&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;body&quot;</span><span class="p">)</span>
    <span class="n">delete_file</span><span class="p">:</span> <span class="s2">&quot;DeleteFile&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;body&quot;</span><span class="p">)</span>
    <span class="n">copy_file</span><span class="p">:</span> <span class="s2">&quot;CopyFile&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;body&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="GetFileRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.GetFileRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">GetFileRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="InspectFileRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.InspectFileRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">InspectFileRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="ListFileRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ListFileRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ListFileRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="c1"># File is the parent directory of the files we want to list. This sets the</span>
    <span class="c1"># repo, the commit/branch, and path prefix of files we&#39;re interested in If</span>
    <span class="c1"># the &quot;path&quot; field is omitted, a list of files at the top level of the repo</span>
    <span class="c1"># is returned</span>
    <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="WalkFileRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.WalkFileRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">WalkFileRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="GlobFileRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.GlobFileRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">GlobFileRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="DiffFileRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.DiffFileRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">DiffFileRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">new_file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># OldFile may be left nil in which case the same path in the parent of</span>
    <span class="c1"># NewFile&#39;s commit will be used.</span>
    <span class="n">old_file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">shallow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="DiffFileResponse"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.DiffFileResponse">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">DiffFileResponse</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">new_file</span><span class="p">:</span> <span class="s2">&quot;FileInfo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">old_file</span><span class="p">:</span> <span class="s2">&quot;FileInfo&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="FsckRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.FsckRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">FsckRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">fix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="FsckResponse"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.FsckResponse">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">FsckResponse</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">fix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="CreateFileSetResponse"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CreateFileSetResponse">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CreateFileSetResponse</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">file_set_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="GetFileSetRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.GetFileSetRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">GetFileSetRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="AddFileSetRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.AddFileSetRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">AddFileSetRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">file_set_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="RenewFileSetRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.RenewFileSetRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RenewFileSetRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">file_set_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">ttl_seconds</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="ComposeFileSetRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ComposeFileSetRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ComposeFileSetRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">file_set_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">ttl_seconds</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="CheckStorageRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CheckStorageRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CheckStorageRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">read_chunk_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bool_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">chunk_begin</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bytes_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">chunk_end</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">bytes_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="CheckStorageResponse"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.CheckStorageResponse">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CheckStorageResponse</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">chunk_object_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="PutCacheRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.PutCacheRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">PutCacheRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Any&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">file_set_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span></div>


<div class="viewcode-block" id="GetCacheRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.GetCacheRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">GetCacheRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="GetCacheResponse"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.GetCacheResponse">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">GetCacheResponse</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Any&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="ClearCacheRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ClearCacheRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ClearCacheRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">tag_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="ActivateAuthRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ActivateAuthRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ActivateAuthRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="ActivateAuthResponse"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ActivateAuthResponse">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ActivateAuthResponse</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="RunLoadTestRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.RunLoadTestRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RunLoadTestRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">spec</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="RunLoadTestResponse"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.RunLoadTestResponse">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">RunLoadTestResponse</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">spec</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">duration</span><span class="p">:</span> <span class="n">timedelta</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span></div>


<div class="viewcode-block" id="ObjectStorageEgress"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ObjectStorageEgress">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ObjectStorageEgress</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="SqlDatabaseEgress"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.SqlDatabaseEgress">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">SqlDatabaseEgress</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">file_format</span><span class="p">:</span> <span class="s2">&quot;SqlDatabaseEgressFileFormat&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">secret</span><span class="p">:</span> <span class="s2">&quot;SqlDatabaseEgressSecret&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="SqlDatabaseEgressFileFormat"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.SqlDatabaseEgressFileFormat">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">SqlDatabaseEgressFileFormat</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="nb">type</span><span class="p">:</span> <span class="s2">&quot;SqlDatabaseEgressFileFormatType&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">enum_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="SqlDatabaseEgressSecret"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.SqlDatabaseEgressSecret">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">SqlDatabaseEgressSecret</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">string_field</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="EgressRequest"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.EgressRequest">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">EgressRequest</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">object_storage</span><span class="p">:</span> <span class="s2">&quot;ObjectStorageEgress&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;target&quot;</span><span class="p">)</span>
    <span class="n">sql_database</span><span class="p">:</span> <span class="s2">&quot;SqlDatabaseEgress&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;target&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="EgressResponse"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.EgressResponse">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">EgressResponse</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">object_storage</span><span class="p">:</span> <span class="s2">&quot;EgressResponseObjectStorageResult&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span>
        <span class="mi">1</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;result&quot;</span>
    <span class="p">)</span>
    <span class="n">sql_database</span><span class="p">:</span> <span class="s2">&quot;EgressResponseSqlDatabaseResult&quot;</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">message_field</span><span class="p">(</span>
        <span class="mi">2</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s2">&quot;result&quot;</span>
    <span class="p">)</span></div>


<div class="viewcode-block" id="EgressResponseObjectStorageResult"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.EgressResponseObjectStorageResult">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">EgressResponseObjectStorageResult</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">bytes_written</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">int64_field</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="EgressResponseSqlDatabaseResult"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.EgressResponseSqlDatabaseResult">[docs]</a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">eq</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">EgressResponseSqlDatabaseResult</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">rows_written</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">map_field</span><span class="p">(</span>
        <span class="mi">1</span><span class="p">,</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">TYPE_STRING</span><span class="p">,</span> <span class="n">betterproto</span><span class="o">.</span><span class="n">TYPE_INT64</span>
    <span class="p">)</span></div>


<div class="viewcode-block" id="ApiStub"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ApiStub">[docs]</a><span class="k">class</span> <span class="nc">ApiStub</span><span class="p">(</span><span class="n">betterproto</span><span class="o">.</span><span class="n">ServiceStub</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create_repo</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">CreateRepoRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">repo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">repo</span> <span class="o">=</span> <span class="n">repo</span>
        <span class="n">request</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
        <span class="n">request</span><span class="o">.</span><span class="n">update</span> <span class="o">=</span> <span class="n">update</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/CreateRepo&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">inspect_repo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RepoInfo&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">InspectRepoRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">repo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">repo</span> <span class="o">=</span> <span class="n">repo</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span><span class="s2">&quot;/pfs_v2.API/InspectRepo&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">RepoInfo</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_repo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;RepoInfo&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">ListRepoRequest</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ListRepo&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">RepoInfo</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete_repo</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">DeleteRepoRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">repo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">repo</span> <span class="o">=</span> <span class="n">repo</span>
        <span class="n">request</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="n">force</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/DeleteRepo&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">start_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Commit&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">StartCommitRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="n">request</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
        <span class="k">if</span> <span class="n">branch</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">branch</span> <span class="o">=</span> <span class="n">branch</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span><span class="s2">&quot;/pfs_v2.API/StartCommit&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">Commit</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">finish_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">FinishCommitRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">commit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">commit</span> <span class="o">=</span> <span class="n">commit</span>
        <span class="n">request</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span>
        <span class="n">request</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">error</span>
        <span class="n">request</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="n">force</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/FinishCommit&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">clear_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">ClearCommitRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">commit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">commit</span> <span class="o">=</span> <span class="n">commit</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ClearCommit&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">inspect_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wait</span><span class="p">:</span> <span class="s2">&quot;CommitState&quot;</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CommitInfo&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">InspectCommitRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">commit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">commit</span> <span class="o">=</span> <span class="n">commit</span>
        <span class="n">request</span><span class="o">.</span><span class="n">wait</span> <span class="o">=</span> <span class="n">wait</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span><span class="s2">&quot;/pfs_v2.API/InspectCommit&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">CommitInfo</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">from_</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">to</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">number</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="nb">all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">origin_kind</span><span class="p">:</span> <span class="s2">&quot;OriginKind&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;CommitInfo&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">ListCommitRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">repo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">repo</span> <span class="o">=</span> <span class="n">repo</span>
        <span class="k">if</span> <span class="n">from_</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">from_</span> <span class="o">=</span> <span class="n">from_</span>
        <span class="k">if</span> <span class="n">to</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">to</span> <span class="o">=</span> <span class="n">to</span>
        <span class="n">request</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>
        <span class="n">request</span><span class="o">.</span><span class="n">reverse</span> <span class="o">=</span> <span class="n">reverse</span>
        <span class="n">request</span><span class="o">.</span><span class="n">all</span> <span class="o">=</span> <span class="nb">all</span>
        <span class="n">request</span><span class="o">.</span><span class="n">origin_kind</span> <span class="o">=</span> <span class="n">origin_kind</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ListCommit&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">CommitInfo</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">branch</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">from_</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">state</span><span class="p">:</span> <span class="s2">&quot;CommitState&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="nb">all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">origin_kind</span><span class="p">:</span> <span class="s2">&quot;OriginKind&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;CommitInfo&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">SubscribeCommitRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">repo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">repo</span> <span class="o">=</span> <span class="n">repo</span>
        <span class="n">request</span><span class="o">.</span><span class="n">branch</span> <span class="o">=</span> <span class="n">branch</span>
        <span class="k">if</span> <span class="n">from_</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">from_</span> <span class="o">=</span> <span class="n">from_</span>
        <span class="n">request</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">state</span>
        <span class="n">request</span><span class="o">.</span><span class="n">all</span> <span class="o">=</span> <span class="nb">all</span>
        <span class="n">request</span><span class="o">.</span><span class="n">origin_kind</span> <span class="o">=</span> <span class="n">origin_kind</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/SubscribeCommit&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">CommitInfo</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">inspect_commit_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">commit_set</span><span class="p">:</span> <span class="s2">&quot;CommitSet&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;CommitInfo&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">InspectCommitSetRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">commit_set</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">commit_set</span> <span class="o">=</span> <span class="n">commit_set</span>
        <span class="n">request</span><span class="o">.</span><span class="n">wait</span> <span class="o">=</span> <span class="n">wait</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/InspectCommitSet&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">CommitInfo</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_commit_set</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;CommitSetInfo&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">ListCommitSetRequest</span><span class="p">()</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ListCommitSet&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">CommitSetInfo</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">squash_commit_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">commit_set</span><span class="p">:</span> <span class="s2">&quot;CommitSet&quot;</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">SquashCommitSetRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">commit_set</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">commit_set</span> <span class="o">=</span> <span class="n">commit_set</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/SquashCommitSet&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">drop_commit_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">commit_set</span><span class="p">:</span> <span class="s2">&quot;CommitSet&quot;</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">DropCommitSetRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">commit_set</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">commit_set</span> <span class="o">=</span> <span class="n">commit_set</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/DropCommitSet&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">create_branch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">head</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">provenance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="s2">&quot;Branch&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">trigger</span><span class="p">:</span> <span class="s2">&quot;Trigger&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">new_commit_set</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="n">provenance</span> <span class="o">=</span> <span class="n">provenance</span> <span class="ow">or</span> <span class="p">[]</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">CreateBranchRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">head</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">head</span> <span class="o">=</span> <span class="n">head</span>
        <span class="k">if</span> <span class="n">branch</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">branch</span> <span class="o">=</span> <span class="n">branch</span>
        <span class="k">if</span> <span class="n">provenance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">provenance</span> <span class="o">=</span> <span class="n">provenance</span>
        <span class="k">if</span> <span class="n">trigger</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">trigger</span> <span class="o">=</span> <span class="n">trigger</span>
        <span class="n">request</span><span class="o">.</span><span class="n">new_commit_set</span> <span class="o">=</span> <span class="n">new_commit_set</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/CreateBranch&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">inspect_branch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BranchInfo&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">InspectBranchRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">branch</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">branch</span> <span class="o">=</span> <span class="n">branch</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span><span class="s2">&quot;/pfs_v2.API/InspectBranch&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">BranchInfo</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_branch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;BranchInfo&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">ListBranchRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">repo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">repo</span> <span class="o">=</span> <span class="n">repo</span>
        <span class="n">request</span><span class="o">.</span><span class="n">reverse</span> <span class="o">=</span> <span class="n">reverse</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ListBranch&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">BranchInfo</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete_branch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">DeleteBranchRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">branch</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">branch</span> <span class="o">=</span> <span class="n">branch</span>
        <span class="n">request</span><span class="o">.</span><span class="n">force</span> <span class="o">=</span> <span class="n">force</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/DeleteBranch&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">modify_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">request_iterator</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="n">AsyncIterable</span><span class="p">[</span><span class="s2">&quot;ModifyFileRequest&quot;</span><span class="p">],</span> <span class="n">Iterable</span><span class="p">[</span><span class="s2">&quot;ModifyFileRequest&quot;</span><span class="p">]</span>
        <span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stream_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ModifyFile&quot;</span><span class="p">,</span>
            <span class="n">request_iterator</span><span class="p">,</span>
            <span class="n">ModifyFileRequest</span><span class="p">,</span>
            <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;betterproto_lib_google_protobuf.BytesValue&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">GetFileRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span>
        <span class="n">request</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="n">request</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="n">offset</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/GetFile&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">BytesValue</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_file_tar</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;betterproto_lib_google_protobuf.BytesValue&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">GetFileRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span>
        <span class="n">request</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
        <span class="n">request</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="n">offset</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/GetFileTAR&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">BytesValue</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">inspect_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileInfo&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">InspectFileRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span><span class="s2">&quot;/pfs_v2.API/InspectFile&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">FileInfo</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;FileInfo&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">ListFileRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ListFile&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">FileInfo</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">walk_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;FileInfo&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">WalkFileRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="n">file</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/WalkFile&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">FileInfo</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">glob_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;FileInfo&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">GlobFileRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">commit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">commit</span> <span class="o">=</span> <span class="n">commit</span>
        <span class="n">request</span><span class="o">.</span><span class="n">pattern</span> <span class="o">=</span> <span class="n">pattern</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/GlobFile&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">FileInfo</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">diff_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">new_file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">old_file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">shallow</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;DiffFileResponse&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">DiffFileRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">new_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">new_file</span> <span class="o">=</span> <span class="n">new_file</span>
        <span class="k">if</span> <span class="n">old_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">old_file</span> <span class="o">=</span> <span class="n">old_file</span>
        <span class="n">request</span><span class="o">.</span><span class="n">shallow</span> <span class="o">=</span> <span class="n">shallow</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/DiffFile&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">DiffFileResponse</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">activate_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ActivateAuthResponse&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">ActivateAuthRequest</span><span class="p">()</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ActivateAuth&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">ActivateAuthResponse</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">()</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/DeleteAll&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">fsck</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">fix</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;FsckResponse&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">FsckRequest</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">fix</span> <span class="o">=</span> <span class="n">fix</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/Fsck&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">FsckResponse</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">create_file_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">request_iterator</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span>
            <span class="n">AsyncIterable</span><span class="p">[</span><span class="s2">&quot;ModifyFileRequest&quot;</span><span class="p">],</span> <span class="n">Iterable</span><span class="p">[</span><span class="s2">&quot;ModifyFileRequest&quot;</span><span class="p">]</span>
        <span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CreateFileSetResponse&quot;</span><span class="p">:</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stream_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/CreateFileSet&quot;</span><span class="p">,</span>
            <span class="n">request_iterator</span><span class="p">,</span>
            <span class="n">ModifyFileRequest</span><span class="p">,</span>
            <span class="n">CreateFileSetResponse</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_file_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CreateFileSetResponse&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">GetFileSetRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">commit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">commit</span> <span class="o">=</span> <span class="n">commit</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/GetFileSet&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">CreateFileSetResponse</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">add_file_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">file_set_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">AddFileSetRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">commit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">commit</span> <span class="o">=</span> <span class="n">commit</span>
        <span class="n">request</span><span class="o">.</span><span class="n">file_set_id</span> <span class="o">=</span> <span class="n">file_set_id</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/AddFileSet&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">renew_file_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">file_set_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">ttl_seconds</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">RenewFileSetRequest</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">file_set_id</span> <span class="o">=</span> <span class="n">file_set_id</span>
        <span class="n">request</span><span class="o">.</span><span class="n">ttl_seconds</span> <span class="o">=</span> <span class="n">ttl_seconds</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/RenewFileSet&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">compose_file_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">file_set_ids</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">ttl_seconds</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CreateFileSetResponse&quot;</span><span class="p">:</span>
        <span class="n">file_set_ids</span> <span class="o">=</span> <span class="n">file_set_ids</span> <span class="ow">or</span> <span class="p">[]</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">ComposeFileSetRequest</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">file_set_ids</span> <span class="o">=</span> <span class="n">file_set_ids</span>
        <span class="n">request</span><span class="o">.</span><span class="n">ttl_seconds</span> <span class="o">=</span> <span class="n">ttl_seconds</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ComposeFileSet&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">CreateFileSetResponse</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">check_storage</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">read_chunk_data</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">chunk_begin</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">chunk_end</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CheckStorageResponse&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">CheckStorageRequest</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">read_chunk_data</span> <span class="o">=</span> <span class="n">read_chunk_data</span>
        <span class="n">request</span><span class="o">.</span><span class="n">chunk_begin</span> <span class="o">=</span> <span class="n">chunk_begin</span>
        <span class="n">request</span><span class="o">.</span><span class="n">chunk_end</span> <span class="o">=</span> <span class="n">chunk_end</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/CheckStorage&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">CheckStorageResponse</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">put_cache</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Any&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">file_set_ids</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="n">file_set_ids</span> <span class="o">=</span> <span class="n">file_set_ids</span> <span class="ow">or</span> <span class="p">[]</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">PutCacheRequest</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">key</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">request</span><span class="o">.</span><span class="n">file_set_ids</span> <span class="o">=</span> <span class="n">file_set_ids</span>
        <span class="n">request</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/PutCache&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;GetCacheResponse&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">GetCacheRequest</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">key</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/GetCache&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">GetCacheResponse</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">clear_cache</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">tag_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">ClearCacheRequest</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">tag_prefix</span> <span class="o">=</span> <span class="n">tag_prefix</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ClearCache&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run_load_test</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">spec</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RunLoadTestResponse&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">RunLoadTestRequest</span><span class="p">()</span>
        <span class="n">request</span><span class="o">.</span><span class="n">spec</span> <span class="o">=</span> <span class="n">spec</span>
        <span class="k">if</span> <span class="n">branch</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">branch</span> <span class="o">=</span> <span class="n">branch</span>
        <span class="n">request</span><span class="o">.</span><span class="n">seed</span> <span class="o">=</span> <span class="n">seed</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/RunLoadTest&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">RunLoadTestResponse</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run_load_test_default</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RunLoadTestResponse&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">()</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/RunLoadTestDefault&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">RunLoadTestResponse</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_task</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="s2">&quot;Group&quot;</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;_taskapi__.TaskInfo&quot;</span><span class="p">]:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">_taskapi__</span><span class="o">.</span><span class="n">ListTaskRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">group</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">group</span> <span class="o">=</span> <span class="n">group</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">response</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_stream</span><span class="p">(</span>
            <span class="s2">&quot;/pfs_v2.API/ListTask&quot;</span><span class="p">,</span>
            <span class="n">request</span><span class="p">,</span>
            <span class="n">_taskapi__</span><span class="o">.</span><span class="n">TaskInfo</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="k">yield</span> <span class="n">response</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">egress</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">object_storage</span><span class="p">:</span> <span class="s2">&quot;ObjectStorageEgress&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sql_database</span><span class="p">:</span> <span class="s2">&quot;SqlDatabaseEgress&quot;</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;EgressResponse&quot;</span><span class="p">:</span>

        <span class="n">request</span> <span class="o">=</span> <span class="n">EgressRequest</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">commit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">commit</span> <span class="o">=</span> <span class="n">commit</span>
        <span class="k">if</span> <span class="n">object_storage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">object_storage</span> <span class="o">=</span> <span class="n">object_storage</span>
        <span class="k">if</span> <span class="n">sql_database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">sql_database</span> <span class="o">=</span> <span class="n">sql_database</span>

        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unary_unary</span><span class="p">(</span><span class="s2">&quot;/pfs_v2.API/Egress&quot;</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">EgressResponse</span><span class="p">)</span></div>


<div class="viewcode-block" id="ApiBase"><a class="viewcode-back" href="../../../../../python_pachyderm.experimental.proto.v2.pfs_v2.html#python_pachyderm.experimental.proto.v2.pfs_v2.ApiBase">[docs]</a><span class="k">class</span> <span class="nc">ApiBase</span><span class="p">(</span><span class="n">ServiceBase</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">create_repo</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">inspect_repo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RepoInfo&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_repo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;RepoInfo&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete_repo</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">start_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Commit&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">finish_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">error</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">clear_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">inspect_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">,</span> <span class="n">wait</span><span class="p">:</span> <span class="s2">&quot;CommitState&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CommitInfo&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span><span class="p">,</span>
        <span class="n">from_</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">,</span>
        <span class="n">to</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">,</span>
        <span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="nb">all</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">origin_kind</span><span class="p">:</span> <span class="s2">&quot;OriginKind&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;CommitInfo&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe_commit</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span><span class="p">,</span>
        <span class="n">branch</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">from_</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">,</span>
        <span class="n">state</span><span class="p">:</span> <span class="s2">&quot;CommitState&quot;</span><span class="p">,</span>
        <span class="nb">all</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">origin_kind</span><span class="p">:</span> <span class="s2">&quot;OriginKind&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;CommitInfo&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">inspect_commit_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">commit_set</span><span class="p">:</span> <span class="s2">&quot;CommitSet&quot;</span><span class="p">,</span> <span class="n">wait</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;CommitInfo&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_commit_set</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;CommitSetInfo&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">squash_commit_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">commit_set</span><span class="p">:</span> <span class="s2">&quot;CommitSet&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">drop_commit_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">commit_set</span><span class="p">:</span> <span class="s2">&quot;CommitSet&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">create_branch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">head</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">,</span>
        <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span><span class="p">,</span>
        <span class="n">provenance</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="s2">&quot;Branch&quot;</span><span class="p">]],</span>
        <span class="n">trigger</span><span class="p">:</span> <span class="s2">&quot;Trigger&quot;</span><span class="p">,</span>
        <span class="n">new_commit_set</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">inspect_branch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BranchInfo&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_branch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">repo</span><span class="p">:</span> <span class="s2">&quot;Repo&quot;</span><span class="p">,</span> <span class="n">reverse</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;BranchInfo&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete_branch</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">modify_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">request_iterator</span><span class="p">:</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;ModifyFileRequest&quot;</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;betterproto_lib_google_protobuf.BytesValue&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_file_tar</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;betterproto_lib_google_protobuf.BytesValue&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">inspect_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;FileInfo&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;FileInfo&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">walk_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;FileInfo&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">glob_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">,</span> <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;FileInfo&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">diff_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">new_file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span><span class="p">,</span> <span class="n">old_file</span><span class="p">:</span> <span class="s2">&quot;File&quot;</span><span class="p">,</span> <span class="n">shallow</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;DiffFileResponse&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">activate_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;ActivateAuthResponse&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">fsck</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fix</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;FsckResponse&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">create_file_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">request_iterator</span><span class="p">:</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;ModifyFileRequest&quot;</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CreateFileSetResponse&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_file_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CreateFileSetResponse&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">add_file_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">,</span> <span class="n">file_set_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">renew_file_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">file_set_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ttl_seconds</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">compose_file_set</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">file_set_ids</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">ttl_seconds</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CreateFileSetResponse&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">check_storage</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">read_chunk_data</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">chunk_begin</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">chunk_end</span><span class="p">:</span> <span class="nb">bytes</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;CheckStorageResponse&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">put_cache</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Any&quot;</span><span class="p">,</span>
        <span class="n">file_set_ids</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span>
        <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">get_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;GetCacheResponse&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">clear_cache</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">tag_prefix</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;betterproto_lib_google_protobuf.Empty&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run_load_test</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">spec</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">branch</span><span class="p">:</span> <span class="s2">&quot;Branch&quot;</span><span class="p">,</span> <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RunLoadTestResponse&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">run_load_test_default</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;RunLoadTestResponse&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">list_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">group</span><span class="p">:</span> <span class="s2">&quot;Group&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="s2">&quot;_taskapi__.TaskInfo&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">egress</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;Commit&quot;</span><span class="p">,</span>
        <span class="n">object_storage</span><span class="p">:</span> <span class="s2">&quot;ObjectStorageEgress&quot;</span><span class="p">,</span>
        <span class="n">sql_database</span><span class="p">:</span> <span class="s2">&quot;SqlDatabaseEgress&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;EgressResponse&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">GRPCError</span><span class="p">(</span><span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">UNIMPLEMENTED</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_create_repo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;repo&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">repo</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="s2">&quot;update&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">update</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_repo</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_inspect_repo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;repo&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">repo</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">inspect_repo</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_list_repo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">type</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">list_repo</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_delete_repo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;repo&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">repo</span><span class="p">,</span>
            <span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">force</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">delete_repo</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_start_commit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;parent&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">parent</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="s2">&quot;branch&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">branch</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_commit</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_finish_commit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;commit&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">error</span><span class="p">,</span>
            <span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">force</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">finish_commit</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_clear_commit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;commit&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">clear_commit</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_inspect_commit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;commit&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
            <span class="s2">&quot;wait&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">wait</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">inspect_commit</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_list_commit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;repo&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">repo</span><span class="p">,</span>
            <span class="s2">&quot;from_&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">from_</span><span class="p">,</span>
            <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">to</span><span class="p">,</span>
            <span class="s2">&quot;number&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">number</span><span class="p">,</span>
            <span class="s2">&quot;reverse&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">reverse</span><span class="p">,</span>
            <span class="s2">&quot;all&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">all</span><span class="p">,</span>
            <span class="s2">&quot;origin_kind&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">origin_kind</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">list_commit</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_subscribe_commit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;repo&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">repo</span><span class="p">,</span>
            <span class="s2">&quot;branch&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">branch</span><span class="p">,</span>
            <span class="s2">&quot;from_&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">from_</span><span class="p">,</span>
            <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">state</span><span class="p">,</span>
            <span class="s2">&quot;all&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">all</span><span class="p">,</span>
            <span class="s2">&quot;origin_kind&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">origin_kind</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">subscribe_commit</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_inspect_commit_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;commit_set&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">commit_set</span><span class="p">,</span>
            <span class="s2">&quot;wait&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">wait</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inspect_commit_set</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_list_commit_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">list_commit_set</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_squash_commit_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;commit_set&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">commit_set</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">squash_commit_set</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_drop_commit_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;commit_set&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">commit_set</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">drop_commit_set</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_create_branch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;head&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">head</span><span class="p">,</span>
            <span class="s2">&quot;branch&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">branch</span><span class="p">,</span>
            <span class="s2">&quot;provenance&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">provenance</span><span class="p">,</span>
            <span class="s2">&quot;trigger&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">trigger</span><span class="p">,</span>
            <span class="s2">&quot;new_commit_set&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">new_commit_set</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_branch</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_inspect_branch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;branch&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">branch</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">inspect_branch</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_list_branch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;repo&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">repo</span><span class="p">,</span>
            <span class="s2">&quot;reverse&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">reverse</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">list_branch</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_delete_branch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;branch&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">branch</span><span class="p">,</span>
            <span class="s2">&quot;force&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">force</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">delete_branch</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_modify_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;request_iterator&quot;</span><span class="p">:</span> <span class="n">stream</span><span class="o">.</span><span class="fm">__aiter__</span><span class="p">()}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">modify_file</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_get_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">file</span><span class="p">,</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_file</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_get_file_tar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">file</span><span class="p">,</span>
            <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">url</span><span class="p">,</span>
            <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">offset</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_file_tar</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_inspect_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">file</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">inspect_file</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_list_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">file</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">list_file</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_walk_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">file</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">walk_file</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_glob_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;commit&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
            <span class="s2">&quot;pattern&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">pattern</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">glob_file</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_diff_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;new_file&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">new_file</span><span class="p">,</span>
            <span class="s2">&quot;old_file&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">old_file</span><span class="p">,</span>
            <span class="s2">&quot;shallow&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">shallow</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">diff_file</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_activate_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">activate_auth</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_delete_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">delete_all</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_fsck</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;fix&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">fix</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fsck</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_create_file_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;request_iterator&quot;</span><span class="p">:</span> <span class="n">stream</span><span class="o">.</span><span class="fm">__aiter__</span><span class="p">()}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_file_set</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_get_file_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;commit&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_file_set</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_add_file_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;commit&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
            <span class="s2">&quot;file_set_id&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">file_set_id</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">add_file_set</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_renew_file_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;file_set_id&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">file_set_id</span><span class="p">,</span>
            <span class="s2">&quot;ttl_seconds&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">ttl_seconds</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">renew_file_set</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_compose_file_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;file_set_ids&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">file_set_ids</span><span class="p">,</span>
            <span class="s2">&quot;ttl_seconds&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">ttl_seconds</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">compose_file_set</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_check_storage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;read_chunk_data&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">read_chunk_data</span><span class="p">,</span>
            <span class="s2">&quot;chunk_begin&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">chunk_begin</span><span class="p">,</span>
            <span class="s2">&quot;chunk_end&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">chunk_end</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_storage</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_put_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="s2">&quot;file_set_ids&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">file_set_ids</span><span class="p">,</span>
            <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">tag</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">put_cache</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_get_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">key</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cache</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_clear_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;tag_prefix&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">tag_prefix</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">clear_cache</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_run_load_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;spec&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">spec</span><span class="p">,</span>
            <span class="s2">&quot;branch&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">branch</span><span class="p">,</span>
            <span class="s2">&quot;seed&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">seed</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_load_test</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_run_load_test_default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_load_test_default</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_list_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;group&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">group</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_call_rpc_handler_server_stream</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">list_task</span><span class="p">,</span>
            <span class="n">stream</span><span class="p">,</span>
            <span class="n">request_kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">__rpc_egress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">Stream</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">request</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">recv_message</span><span class="p">()</span>

        <span class="n">request_kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;commit&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
            <span class="s2">&quot;object_storage&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">object_storage</span><span class="p">,</span>
            <span class="s2">&quot;sql_database&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">sql_database</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">egress</span><span class="p">(</span><span class="o">**</span><span class="n">request_kwargs</span><span class="p">)</span>
        <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">send_message</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__mapping__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;/pfs_v2.API/CreateRepo&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_create_repo</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">CreateRepoRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/InspectRepo&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_inspect_repo</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">InspectRepoRequest</span><span class="p">,</span>
                <span class="n">RepoInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ListRepo&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_list_repo</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">ListRepoRequest</span><span class="p">,</span>
                <span class="n">RepoInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/DeleteRepo&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_delete_repo</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">DeleteRepoRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/StartCommit&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_start_commit</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">StartCommitRequest</span><span class="p">,</span>
                <span class="n">Commit</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/FinishCommit&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_finish_commit</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">FinishCommitRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ClearCommit&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_clear_commit</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">ClearCommitRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/InspectCommit&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_inspect_commit</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">InspectCommitRequest</span><span class="p">,</span>
                <span class="n">CommitInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ListCommit&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_list_commit</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">ListCommitRequest</span><span class="p">,</span>
                <span class="n">CommitInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/SubscribeCommit&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_subscribe_commit</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">SubscribeCommitRequest</span><span class="p">,</span>
                <span class="n">CommitInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/InspectCommitSet&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_inspect_commit_set</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">InspectCommitSetRequest</span><span class="p">,</span>
                <span class="n">CommitInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ListCommitSet&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_list_commit_set</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">ListCommitSetRequest</span><span class="p">,</span>
                <span class="n">CommitSetInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/SquashCommitSet&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_squash_commit_set</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">SquashCommitSetRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/DropCommitSet&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_drop_commit_set</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">DropCommitSetRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/CreateBranch&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_create_branch</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">CreateBranchRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/InspectBranch&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_inspect_branch</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">InspectBranchRequest</span><span class="p">,</span>
                <span class="n">BranchInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ListBranch&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_list_branch</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">ListBranchRequest</span><span class="p">,</span>
                <span class="n">BranchInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/DeleteBranch&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_delete_branch</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">DeleteBranchRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ModifyFile&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_modify_file</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">STREAM_UNARY</span><span class="p">,</span>
                <span class="n">ModifyFileRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/GetFile&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_get_file</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">GetFileRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">BytesValue</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/GetFileTAR&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_get_file_tar</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">GetFileRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">BytesValue</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/InspectFile&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_inspect_file</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">InspectFileRequest</span><span class="p">,</span>
                <span class="n">FileInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ListFile&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_list_file</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">ListFileRequest</span><span class="p">,</span>
                <span class="n">FileInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/WalkFile&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_walk_file</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">WalkFileRequest</span><span class="p">,</span>
                <span class="n">FileInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/GlobFile&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_glob_file</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">GlobFileRequest</span><span class="p">,</span>
                <span class="n">FileInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/DiffFile&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_diff_file</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">DiffFileRequest</span><span class="p">,</span>
                <span class="n">DiffFileResponse</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ActivateAuth&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_activate_auth</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">ActivateAuthRequest</span><span class="p">,</span>
                <span class="n">ActivateAuthResponse</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/DeleteAll&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_delete_all</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/Fsck&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_fsck</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">FsckRequest</span><span class="p">,</span>
                <span class="n">FsckResponse</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/CreateFileSet&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_create_file_set</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">STREAM_UNARY</span><span class="p">,</span>
                <span class="n">ModifyFileRequest</span><span class="p">,</span>
                <span class="n">CreateFileSetResponse</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/GetFileSet&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_get_file_set</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">GetFileSetRequest</span><span class="p">,</span>
                <span class="n">CreateFileSetResponse</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/AddFileSet&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_add_file_set</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">AddFileSetRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/RenewFileSet&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_renew_file_set</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">RenewFileSetRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ComposeFileSet&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_compose_file_set</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">ComposeFileSetRequest</span><span class="p">,</span>
                <span class="n">CreateFileSetResponse</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/CheckStorage&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_check_storage</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">CheckStorageRequest</span><span class="p">,</span>
                <span class="n">CheckStorageResponse</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/PutCache&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_put_cache</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">PutCacheRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/GetCache&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_get_cache</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">GetCacheRequest</span><span class="p">,</span>
                <span class="n">GetCacheResponse</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ClearCache&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_clear_cache</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">ClearCacheRequest</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/RunLoadTest&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_run_load_test</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">RunLoadTestRequest</span><span class="p">,</span>
                <span class="n">RunLoadTestResponse</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/RunLoadTestDefault&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_run_load_test_default</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">betterproto_lib_google_protobuf</span><span class="o">.</span><span class="n">Empty</span><span class="p">,</span>
                <span class="n">RunLoadTestResponse</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/ListTask&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_list_task</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_STREAM</span><span class="p">,</span>
                <span class="n">_taskapi__</span><span class="o">.</span><span class="n">ListTaskRequest</span><span class="p">,</span>
                <span class="n">_taskapi__</span><span class="o">.</span><span class="n">TaskInfo</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="s2">&quot;/pfs_v2.API/Egress&quot;</span><span class="p">:</span> <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Handler</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rpc_egress</span><span class="p">,</span>
                <span class="n">grpclib</span><span class="o">.</span><span class="n">const</span><span class="o">.</span><span class="n">Cardinality</span><span class="o">.</span><span class="n">UNARY_UNARY</span><span class="p">,</span>
                <span class="n">EgressRequest</span><span class="p">,</span>
                <span class="n">EgressResponse</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">}</span></div>


<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">auth_v2</span> <span class="k">as</span> <span class="n">_auth_v2__</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">taskapi</span> <span class="k">as</span> <span class="n">_taskapi__</span>
<span class="kn">import</span> <span class="nn">betterproto.lib.google.protobuf</span> <span class="k">as</span> <span class="nn">betterproto_lib_google_protobuf</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Joe Doliner.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>